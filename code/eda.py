import pandas as pd
import matplotlib.pyplot as plt
import seaborn as sns

df = pd.read_csv('../data/Datasheet.csv')
X = df.drop(columns=['rounds'])
y = df['rounds']

X.info()
y.info()
# print(X.head(10))
# print(y.head(10))
print(X.describe())
print(y.value_counts())
#Distribution:
fig, axes = plt.subplots(nrows=3, ncols=6, figsize=(30, 6))
sns.histplot(data=X, x='MP', kde=True, ax=axes[0, 0])
sns.histplot(data=X, x='FGA', kde=True, ax=axes[0, 1])
sns.histplot(data=X, x='FG%', kde=True, ax=axes[0, 2])
sns.histplot(data=X, x='3PA', kde=True, ax=axes[0, 3])
sns.histplot(data=X, x='3P%', kde=True, ax=axes[0, 4])
sns.histplot(data=X, x='2PA', kde=True, ax=axes[0, 5])
sns.histplot(data=X, x='2P%', kde=True, ax=axes[1, 0])
sns.histplot(data=X, x='FTA', kde=True, ax=axes[1, 1])
sns.histplot(data=X, x='FT%', kde=True, ax=axes[1, 2])
sns.histplot(data=X, x='ORB', kde=True, ax=axes[1, 3])
sns.histplot(data=X, x='DRB', kde=True, ax=axes[1, 4])
sns.histplot(data=X, x='AST', kde=True, ax=axes[1, 5])
sns.histplot(data=X, x='STL', kde=True, ax=axes[2, 0])
sns.histplot(data=X, x='BLK', kde=True, ax=axes[2, 1])
sns.histplot(data=X, x='TOV', kde=True, ax=axes[2, 2])
sns.histplot(data=X, x='PF', kde=True, ax=axes[2, 3])
sns.histplot(data=X, x='PTS', kde=True, ax=axes[2, 4])
axes[2][5].axis("off")
plt.tight_layout()
fig.suptitle('Per Game Tranditional Stats -1', fontweight='bold', y=0.02)
plt.show()

fig, axes = plt.subplots(nrows=3, ncols=6, figsize=(30, 6))
sns.boxplot(data=X, x='MP', orient='h', ax=axes[0, 0])
sns.boxplot(data=X, x='FGA', orient='h', ax=axes[0, 1])
sns.boxplot(data=X, x='FG%', orient='h', ax=axes[0, 2])
sns.boxplot(data=X, x='3PA', orient='h', ax=axes[0, 3])
sns.boxplot(data=X, x='3P%', orient='h', ax=axes[0, 4])
sns.boxplot(data=X, x='2PA', orient='h', ax=axes[0, 5])
sns.boxplot(data=X, x='2P%', orient='h', ax=axes[1, 0])
sns.boxplot(data=X, x='FTA', orient='h', ax=axes[1, 1])
sns.boxplot(data=X, x='FT%', orient='h', ax=axes[1, 2])
sns.boxplot(data=X, x='ORB', orient='h', ax=axes[1, 3])
sns.boxplot(data=X, x='DRB', orient='h', ax=axes[1, 4])
sns.boxplot(data=X, x='AST', orient='h', ax=axes[1, 5])
sns.boxplot(data=X, x='STL', orient='h', ax=axes[2, 0])
sns.boxplot(data=X, x='BLK', orient='h', ax=axes[2, 1])
sns.boxplot(data=X, x='TOV', orient='h', ax=axes[2, 2])
sns.boxplot(data=X, x='PF', orient='h', ax=axes[2, 3])
sns.boxplot(data=X, x='PTS', orient='h', ax=axes[2, 4])
axes[2][5].axis("off")
plt.tight_layout()
fig.suptitle('Per Game Tranditional Stats -2', fontweight='bold', y=0.02)
plt.show()

fig, axes = plt.subplots(nrows=3, ncols=7, figsize=(30, 6))
sns.histplot(data=X, x='Age', kde=True, ax=axes[0, 0])
sns.histplot(data=X, x='W', kde=True, ax=axes[0, 1])
sns.histplot(data=X, x='L', kde=True, ax=axes[0, 2])
sns.histplot(data=X, x='MOV', kde=True, ax=axes[0, 3])
sns.histplot(data=X, x='SOS', kde=True, ax=axes[0, 4])
sns.histplot(data=X, x='SRS', kde=True, ax=axes[0, 5])
sns.histplot(data=X, x='ORtg', kde=True, ax=axes[0, 6])
sns.histplot(data=X, x='DRtg', kde=True, ax=axes[1, 0])
sns.histplot(data=X, x='NRtg', kde=True, ax=axes[1, 1])
sns.histplot(data=X, x='Pace', kde=True, ax=axes[1, 2])
sns.histplot(data=X, x='FTr', kde=True, ax=axes[1, 3])
sns.histplot(data=X, x='3PAr', kde=True, ax=axes[1, 4])
sns.histplot(data=X, x='TS%', kde=True, ax=axes[1, 5])
sns.histplot(data=X, x='Offense_eFG%', kde=True, ax=axes[1, 6])
sns.histplot(data=X, x='Offense_TOV%', kde=True, ax=axes[2, 0])
sns.histplot(data=X, x='Offense_ORB%', kde=True, ax=axes[2, 1])
sns.histplot(data=X, x='Offense_FT/FGA', kde=True, ax=axes[2, 2])
sns.histplot(data=X, x='Defense_eFG%', kde=True, ax=axes[2, 3])
sns.histplot(data=X, x='Defense_TOV%', kde=True, ax=axes[2, 4])
sns.histplot(data=X, x='Defense_ORB%', kde=True, ax=axes[2, 5])
sns.histplot(data=X, x='Defense_FT/FGA', kde=True, ax=axes[2, 6])
plt.tight_layout()
fig.suptitle('Advanced Stats -1', fontweight='bold', y=0.02)
plt.show()

fig, axes = plt.subplots(nrows=3, ncols=7, figsize=(30, 6))
sns.boxplot(data=X, x='Age', ax=axes[0, 0])
sns.boxplot(data=X, x='W', ax=axes[0, 1])
sns.boxplot(data=X, x='L', ax=axes[0, 2])
sns.boxplot(data=X, x='MOV', ax=axes[0, 3])
sns.boxplot(data=X, x='SOS', ax=axes[0, 4])
sns.boxplot(data=X, x='SRS', ax=axes[0, 5])
sns.boxplot(data=X, x='ORtg', ax=axes[0, 6])
sns.boxplot(data=X, x='DRtg', ax=axes[1, 0])
sns.boxplot(data=X, x='NRtg', ax=axes[1, 1])
sns.boxplot(data=X, x='Pace', ax=axes[1, 2])
sns.boxplot(data=X, x='FTr', ax=axes[1, 3])
sns.boxplot(data=X, x='3PAr', ax=axes[1, 4])
sns.boxplot(data=X, x='TS%', ax=axes[1, 5])
sns.boxplot(data=X, x='Offense_eFG%', ax=axes[1, 6])
sns.boxplot(data=X, x='Offense_TOV%', ax=axes[2, 0])
sns.boxplot(data=X, x='Offense_ORB%', ax=axes[2, 1])
sns.boxplot(data=X, x='Offense_FT/FGA', ax=axes[2, 2])
sns.boxplot(data=X, x='Defense_eFG%', ax=axes[2, 3])
sns.boxplot(data=X, x='Defense_TOV%', ax=axes[2, 4])
sns.boxplot(data=X, x='Defense_ORB%', ax=axes[2, 5])
sns.boxplot(data=X, x='Defense_FT/FGA', ax=axes[2, 6])
plt.tight_layout()
fig.suptitle('Advanced Stats -2', fontweight='bold', y=0.02)
plt.show()

traditions = X.iloc[:, 1:17]
sns.heatmap(traditions.corr(), annot=True, cmap='coolwarm')
plt.title('Tranditional Stats Correlation')
plt.show()

advanced = X.iloc[:, 18:38]
sns.heatmap(advanced.corr(), annot=True, cmap='coolwarm')
plt.title('Advanced Stats Correlation')
plt.show()

# suspect = X.loc[:, ['MOV', 'SRS','NRtg']]
# sns.heatmap(suspect.corr(), annot=True, cmap='coolwarm')
# plt.title('suspect Stats Correlation')
# plt.show()

# num_features = X.iloc[:, 1:38]
# num_features = num_features.drop(columns=['FGA', 'MOV', 'NRtg'])
# sns.heatmap(num_features.corr(), annot=True, cmap='coolwarm')
# plt.title('Correlation')
# plt.show()

# suspect = num_features.loc[:, ['3PA', '3PAr']]
# sns.heatmap(suspect.corr(), annot=True, cmap='coolwarm')
# plt.title('suspect Stats Correlation')
# plt.show()
# print(num_features['FGA'].describe())
# print(num_features[['3PA', '3PAr']].head())

X = X.drop(columns=['FGA', 'MOV', 'NRtg', '3PAr'])
stats = X.iloc[:, 1:]
sns.heatmap(stats.corr(), annot=True, cmap='coolwarm')
plt.title('Correlation')
plt.show()

# df = df.drop(columns=['FGA', 'MOV', 'NRtg', '3PAr'])
# sns.pairplot(df, hue='rounds')
# plt.show()